# i3 config file (v4)

## aliases
# modifier keys
set $super  Mod4
set $ctrl   Control
set $shift  Shift
set $alt    Mod1

# monitors
set $mon1 DVI-I-1
set $mon2 HDMI-0

# workspace names
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws0 "0"

## settings
new_window pixel 2
gaps inner 10 

# default orientation
default_orientation auto

# mode for new top level containers
workspace_layout default

# default for new window
default_border pixel 2

# default for new floating window
default_floating_border pixel 2

#
hide_edge_borders none

# focus follows mouse
focus_follows_mouse yes

#
mouse_warping output

# popup focus
popup_during_fullscreen smart

# wrap if no container in direction
focus_wrapping no

# back and forth workplace switching
workspace_auto_back_and_forth yes

# time to show urgency hint
force_display_urgency_hint 500 ms

# window focus
focus_on_window_activation smart


## theme
# xresources
set_from_resource $black       color0  #000000
set_from_resource $darkred     color1  #000000
set_from_resource $darkgreen   color2  #000000
set_from_resource $darkyellow  color3  #000000
set_from_resource $darkblue    color4  #000000
set_from_resource $darkmagenta color5  #000000
set_from_resource $darkcyan    color6  #000000
set_from_resource $lightgrey   color7  #000000
set_from_resource $darkgrey    color8  #000000
set_from_resource $red         color9  #000000
set_from_resource $green       color10 #000000
set_from_resource $yellow      color11 #000000
set_from_resource $blue        color12 #000000
set_from_resource $magenta     color13 #000000
set_from_resource $cyan        color14 #000000
set_from_resource $white       color15 #000000

# alpha bit
set $a CC

# class                 border      backgr      text        indicator   child_border
client.focused          $blue       $blue       $black      $blue       $blue  
client.focused_inactive $black$a    $black$a    $lightgrey  $black$a    $black$a
client.unfocused        $black$a    $black$a    $lightgrey  $black$a    $black$a
client.urgent           $cyan       $cyan       $black      $cyan       $cyan  
client.background       $black$a

# fonts
font pango:Hack Nerd Font 10


## keybindings
# start a terminal
bindsym $super+Return exec urxvtc

# application launcher
bindsym $super+space exec rofi -show drun

# command launcher
bindsym $super+semicolon exec rofi -show run

# session menu
bindsym $super+$ctrl+Escape exec $I3SCRIPTS/rofi-session-menu.sh

# window list
bindsym $super+Tab exec rofi -show window

# show window hints
bindsym $alt+Tab exec $I3SCRIPTS/focus-hints.sh

# kill focused window
bindsym $super+$ctrl+q kill

# playfetch
bindsym $super+F5 exec --no-startup-id playfetch rate --down && dunstify -u critical -t 6000 "Thumbs Down!"
bindsym $super+F6 exec --no-startup-id playfetch lucky -t 100 -FA && dunstify -u low -t 6000 "I'm Feeling Lucky!"
bindsym $super+F7 exec --no-startup-id playfetch promoted -FA && dunstify -u low -t 6000 "Playing favorites!"
bindsym $super+F8 exec --no-startup-id playfetch rate --up && dunstify -u normal -t 6000 "Thumbs Up!"

# mpd
bindsym $super+F9 exec --no-startup-id mpc -q prev
bindsym $super+F10 exec --no-startup-id mpc stop
bindsym $super+F11 exec --no-startup-id mpc toggle
bindsym $super+F12 exec --no-startup-id mpc -q next

# volume
bindsym $super+Prior exec --no-startup-id pactl set-sink-volume 1 +5%
bindsym $super+Next exec --no-startup-id pactl set-sink-volume 1 -5%

# rofi-pass
bindsym $super+$alt+p exec rofi-pass

# maim screen capture
bindsym Print exec maim ~/Screenshots/$(date '+%Y-%m-%d_%H-%M-%S').png && dunstify -u low 'Screenshot captured'
bindsym $super+Print exec maim -s ~/Screenshots/$(date '+%Y-%m-%d_%H-%M-%S').png && dunstify -u low 'Screenshot captured'

# change focus (vi)
bindsym $super+h focus left
bindsym $super+j focus down
bindsym $super+k focus up
bindsym $super+l focus right

# change focus
bindsym $super+Left focus left
bindsym $super+Down focus down
bindsym $super+Up focus up
bindsym $super+Right focus right

# move window (vi)
bindsym $super+$shift+h move left
bindsym $super+$shift+j move down
bindsym $super+$shift+k move up
bindsym $super+$shift+l move right

# move window
bindsym $super+$shift+Left move left
bindsym $super+$shift+Down move down
bindsym $super+$shift+Up move up
bindsym $super+$shift+Right move right

# mouse dragging
floating_modifier $super

# layouts are ugly
#bindsym $super+$shift+s layout stacking
#bindsym $super+$shift+w layout tabbed
#bindsym $super+$shift+e layout toggle split

# toggle floating
bindsym $super+$alt+f floating toggle

# toggle fullscreen
bindsym $super+$shift+f fullscreen toggle

# split horizontal
bindsym $super+$shift+bar split h

# split vertical
bindsym $super+bar split v

# focus parent container
bindsym $super+a focus parent

# focus child container
bindsym $super+c focus child

# Focus last floating/tiling container
bindsym $super+$alt+space focus mode_toggle

# focus urgent window
bindsym $super+quote [urgent=latest] focus

# assign workspace to output
workspace $ws1 output $mon1
workspace $ws2 output $mon1
workspace $ws3 output $mon1
workspace $ws4 output $mon2
workspace $ws5 output $mon2
workspace $ws6 output $mon2

# switch to workspace
bindsym $super+1 workspace $ws1
bindsym $super+2 workspace $ws2
bindsym $super+3 workspace $ws3
bindsym $super+4 workspace $ws4
bindsym $super+5 workspace $ws5
bindsym $super+6 workspace $ws6
bindsym $super+7 workspace $ws7
bindsym $super+8 workspace $ws8
bindsym $super+9 workspace $ws9
bindsym $super+0 workspace $ws0

# move container to workspace
bindsym $super+$shift+1 move container to workspace $ws1
bindsym $super+$shift+2 move container to workspace $ws2
bindsym $super+$shift+3 move container to workspace $ws3
bindsym $super+$shift+4 move container to workspace $ws4
bindsym $super+$shift+5 move container to workspace $ws5
bindsym $super+$shift+6 move container to workspace $ws6
bindsym $super+$shift+7 move container to workspace $ws7
bindsym $super+$shift+8 move container to workspace $ws8
bindsym $super+$shift+9 move container to workspace $ws9
bindsym $super+$shift+0 move container to workspace $ws0

# resize mode
mode "resize" {
        # shrink (vi)
        bindsym h resize shrink width 10 px or 10 ppt
        bindsym k resize shrink height 10 px or 10 ppt
        # grow (vi)
        bindsym j resize grow height 10 px or 10 ppt
        bindsym l resize grow width 10 px or 10 ppt
        # shrink
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        # grow
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt
        # exit resize mode
        bindsym Escape mode "default"
}
bindsym $super+r mode "resize"


# special windows
for_window [window_type="dialog"] floating enable
for_window [window_type="utility"] floating enable
for_window [window_type="toolbar"] floating enable
for_window [window_type="toolbar"] floating enable
for_window [window_type="splash"] floating enable
for_window [window_type="menu"] floating enable
for_window [window_type="dropdown_menu"] floating enable
for_window [window_type="popup_menu"] floating enable
for_window [window_type="tooltip"] floating enable
for_window [window_type="notification"] floating enable

# file handlers
for_window [class="feh"] floating enable focus
for_window [class="mpv"] floating enable focus

# # ws term
# assign [class="^URxvt$" instance="^CAVA$"] 1
# for_window [class="^URxvt$" instance="^CAVA$"] focus
# 
# assign [class="^URxvt$" instance="^Htop$"] 1
# for_window [class="^URxvt$" instance="^Htop$"] focus
# 
# assign [class="^URxvt$" instance="^Ranger$"] 1
# for_window [class="^URxvt$" instance="^Ranger$"] focus
# 
# # ws webs
# assign [class="^qutebrowser$"] 2
# for_window [class="^qutebrowser$"] focus
# 
# assign [class="^URxvt$" instance="^RTV$"] 2
# for_window [class="^URxvt$" instance="^RTV$"] focus
# 
# # ws comm
# assign [class="^URxvt$" instance="^Irssi$"] 3
# for_window [class="^URxvt$" instance="^Irssi$"] focus
# 
# assign [class="^URxvt$" instance="^NeoMutt$"] 3
# for_window [class="^URxvt$" instance="^NeoMutt$"] focus
# 
# # ws code
# assign [class="^URxvt$" instance="^Vim$"] 4
# for_window [class="^URxvt$" instance="^Vim$"] focus

# ws util
assign [class="^Pavucontrol$"] 5
for_window [class="^Pavucontrol$"] floating enable focus

assign [class="^GParted$"] 5
for_window [class="^GParted$"] floating enable focus

assign [class="^Blueman$"] 5
for_window [class="^Blueman$"] floating enable focus

assign [class="^Lxappearance$"] 5
for_window [class="^Lxappearance$"] floating enable focus

assign [class="^Oomox$"] 5
for_window [class="^Oomox$"] floating enable focus

assign [class="^Gimp-2.10$"] 5
for_window [class="^Gimp-2.10$"] floating enable focus

assign [class="^Inkscape$"] 5
for_window [class="^Inkscape$"] floating enable focus

assign [class="^SimpleScreenRecorder$"] 5
for_window [class="^SimpleScreenRecorder$"] floating enable focus

## Steam
## https://github.com/ValveSoftware/steam-for-linux/issues/1040
assign [class="^Steam$"] 6
for_window [class="^Steam$" title="^Friends$"] floating enable
for_window [class="^Steam$" title="Steam - News"] floating enable
for_window [class="^Steam$" title=".* - Chat"] floating enable
for_window [class="^Steam$" title="^Settings$"] floating enable
for_window [class="^Steam$" title=".* - event started"] floating enable
for_window [class="^Steam$" title=".* CD key"] floating enable
for_window [class="^Steam$" title="^Steam - Self Updater$"] floating enable
for_window [class="^Steam$" title="^Screenshot Uploader$"] floating enable
for_window [class="^Steam$" title="^Steam Guard - Computer Authorization Required$"] floating enable
for_window [title="^Steam Keyboard$"] floating enable

assign [title="^Civ6Sub$"] 6
for_window [title="^Civ6Sub$"] floating enable

##
## auto start
##

# Wallpaper Shuffler
exec --no-startup-id walsh

# Start polybar
exec_always --no-startup-id $PBSCRIPTS/load-bar.sh

# Load default layouts
exec --no-startup-id $I3SCRIPTS/load-layouts.sh

# vim: set ft=i3config
