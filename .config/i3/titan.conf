# i3 config file (v4)

##
## main
##

# modifier keys
set $super  Mod4
set $ctrl   Control
set $shift  Shift
set $alt    Mod1

# monitors
set $mon1 DP-1
set $mon2 HDMI-1

# workspace names
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws0 "0"

## settings
new_window pixel 2
gaps inner 10 

# default orientation
default_orientation auto

# mode for new top level containers
workspace_layout default

# default for new window
default_border pixel 2

# default for new floating window
default_floating_border pixel 2

#
hide_edge_borders none

# focus follows mouse
focus_follows_mouse yes

#
mouse_warping output

# popup focus
popup_during_fullscreen smart

# wrap if no container in direction
focus_wrapping no

# back and forth workplace switching
workspace_auto_back_and_forth yes

# time to show urgency hint
force_display_urgency_hint 500 ms

# window focus
focus_on_window_activation smart


## 
## theme
## 

# xresources
set_from_resource $black       color0  #000000
set_from_resource $darkred     color1  #000000
set_from_resource $darkgreen   color2  #000000
set_from_resource $darkyellow  color3  #000000
set_from_resource $darkblue    color4  #000000
set_from_resource $darkmagenta color5  #000000
set_from_resource $darkcyan    color6  #000000
set_from_resource $lightgrey   color7  #000000
set_from_resource $darkgrey    color8  #000000
set_from_resource $red         color9  #000000
set_from_resource $green       color10 #000000
set_from_resource $yellow      color11 #000000
set_from_resource $blue        color12 #000000
set_from_resource $magenta     color13 #000000
set_from_resource $cyan        color14 #000000
set_from_resource $white       color15 #000000

# alpha bit
set $a D9

# class                 border      backgr      text        indicator   child_border
client.focused          $blue       $blue       $black      $blue       $blue  
client.focused_inactive $black$a    $black$a    $lightgrey  $black$a    $black$a
client.unfocused        $black$a    $black$a    $lightgrey  $black$a    $black$a
client.urgent           $cyan       $cyan       $black      $cyan       $cyan  
client.background       $black$a

# fonts
font pango:Hack Nerd Font 10


##
## keybindings
##

# start a terminal
bindsym $super+Return exec $TERMINAL

# application launcher
bindsym $super+space exec rofi -show drun

# command launcher
bindsym $super+semicolon exec rofi -show run

# session menu
bindsym $super+$ctrl+Escape exec zmenu session

# tools menu
bindsym $super+$alt+Escape exec zmenu tools

# window list
bindsym $super+Tab exec rofi -show window

# show window hints
bindsym $alt+Tab exec $I3SCRIPTS/focus-hints.sh

# kill focused window
bindsym $super+$ctrl+q kill

# toggle touchpad
bindsym $super+$alt+t exec --no-startup-id $I3SCRIPTS/toggle-touchpad.sh

# playz
bindsym $super+F5 exec --no-startup-id playz -Td && dunstify -u critical -t 6000 "Thumbs Down!"
bindsym $super+F6 exec --no-startup-id playz -Fl -t 100 -A && dunstify -u low -t 6000 "I'm Feeling Lucky!"
bindsym $super+F7 exec --no-startup-id playz -Ft -A && dunstify -u low -t 6000 "Playing favorites!"
bindsym $super+F8 exec --no-startup-id playz -Tu && dunstify -u normal -t 6000 "Thumbs Up!"
bindsym $super+F9 exec --no-startup-id playz -Mp
bindsym $super+F10 exec --no-startup-id playz -Ms
bindsym $super+F11 exec --no-startup-id playz -Mt
bindsym $super+F12 exec --no-startup-id playz -Mn

# volume
bindsym $super+Prior exec --no-startup-id $I3SCRIPTS/volume-osd.sh -u 5
bindsym $super+Next exec --no-startup-id $I3SCRIPTS/volume-osd.sh -d 5
bindsym $super+$shift+Next exec --no-startup-id $I3SCRIPTS/volume-osd.sh -m

bindsym XF86AudioRaiseVolume exec --no-startup-id $I3SCRIPTS/volume-osd.sh -u 5
bindsym XF86AudioLowerVolume exec --no-startup-id $I3SCRIPTS/volume-osd.sh -d 5
bindsym XF86AudioMute exec --no-startup-id $I3SCRIPTS/volume-osd.sh -m

# backlight
bindsym XF86MonBrightnessUp exec --no-startup-id $I3SCRIPTS/backlight-osd.sh u 10
bindsym XF86MonBrightnessDown exec --no-startup-id $I3SCRIPTS/backlight-osd.sh d 10

# rofi-pass
bindsym $super+$alt+p exec rofi-pass

# maim screen capture
bindsym Print exec maim ~/Screenshots/$(date '+%Y-%m-%d_%H-%M-%S').png && dunstify -u low 'Screenshot captured'
bindsym $super+Print exec maim -s ~/Screenshots/$(date '+%Y-%m-%d_%H-%M-%S').png && dunstify -u low 'Screenshot captured'

# change focus (vi)
bindsym $super+h focus left
bindsym $super+j focus down
bindsym $super+k focus up
bindsym $super+l focus right

# change focus
bindsym $super+Left focus left
bindsym $super+Down focus down
bindsym $super+Up focus up
bindsym $super+Right focus right

# move window (vi)
bindsym $super+$shift+h move left
bindsym $super+$shift+j move down
bindsym $super+$shift+k move up
bindsym $super+$shift+l move right

# move window
bindsym $super+$shift+Left move left
bindsym $super+$shift+Down move down
bindsym $super+$shift+Up move up
bindsym $super+$shift+Right move right

# mouse dragging
floating_modifier $super

# layouts are ugly
#bindsym $super+$shift+s layout stacking
bindsym $super+$shift+w layout tabbed
bindsym $super+$shift+e layout toggle split

# toggle floating
bindsym $super+f floating toggle

# toggle fullscreen
bindsym $super+$shift+f fullscreen toggle

# split horizontal
bindsym $super+$shift+bar split h

# split vertical
bindsym $super+bar split v

# focus parent container
bindsym $super+a focus parent

# focus child container
bindsym $super+c focus child

# Focus last floating/tiling container
bindsym $super+$alt+space focus mode_toggle

# focus urgent window
bindsym $super+quote [urgent=latest] focus

# assign workspace to output
workspace $ws1 output $mon1
workspace $ws2 output $mon1
workspace $ws3 output $mon1
workspace $ws4 output $mon2
workspace $ws5 output $mon2
workspace $ws6 output $mon2

# switch to workspace
bindsym $super+1 workspace $ws1
bindsym $super+2 workspace $ws2
bindsym $super+3 workspace $ws3
bindsym $super+4 workspace $ws4
bindsym $super+5 workspace $ws5
bindsym $super+6 workspace $ws6
bindsym $super+7 workspace $ws7
bindsym $super+8 workspace $ws8
bindsym $super+9 workspace $ws9
bindsym $super+0 workspace $ws0

# move container to workspace
bindsym $super+$shift+1 move container to workspace $ws1
bindsym $super+$shift+2 move container to workspace $ws2
bindsym $super+$shift+3 move container to workspace $ws3
bindsym $super+$shift+4 move container to workspace $ws4
bindsym $super+$shift+5 move container to workspace $ws5
bindsym $super+$shift+6 move container to workspace $ws6
bindsym $super+$shift+7 move container to workspace $ws7
bindsym $super+$shift+8 move container to workspace $ws8
bindsym $super+$shift+9 move container to workspace $ws9
bindsym $super+$shift+0 move container to workspace $ws0
 
# move workspace
bindsym $super+$alt+left move workspace to output left
bindsym $super+$alt+right move workspace to output right 

bindsym $super+$alt+h move workspace to output left
bindsym $super+$alt+l move workspace to output right 

# resize mode
mode "resize" {
    # shrink (vi)
    bindsym h resize shrink width 10 px or 10 ppt
    bindsym k resize shrink height 10 px or 10 ppt
    # grow (vi)
    bindsym j resize grow height 10 px or 10 ppt
    bindsym l resize grow width 10 px or 10 ppt
    # shrink
    bindsym Left resize shrink width 10 px or 10 ppt
    bindsym Up resize shrink height 10 px or 10 ppt
    # grow
    bindsym Down resize grow height 10 px or 10 ppt
    bindsym Right resize grow width 10 px or 10 ppt
    # exit resize mode
    bindsym Escape mode "default"
}
bindsym $super+r mode "resize"

##
## window rules
##

# special windows
for_window [window_type="dialog"] floating enable
for_window [window_type="utility"] floating enable
for_window [window_type="toolbar"] floating enable
for_window [window_type="splash"] floating enable
for_window [window_type="menu"] floating enable
for_window [window_type="dropdown_menu"] floating enable
for_window [window_type="popup_menu"] floating enable
for_window [window_type="tooltip"] floating enable
for_window [window_type="notification"] floating enable

# file handlers
for_window [class="feh"] floating enable focus

# webs
assign [class="^qutebrowser$"] 2
for_window [class="^qutebrowser$"] focus

# utilities
assign [class="^Fritzing$"] 5
for_window [class="^Fritzing$"] focus

assign [class="^GParted$"] 5
for_window [class="^GParted$"] floating enable focus

assign [class="^Oomox$"] 5
for_window [class="^Oomox$"] floating enable focus

assign [class="^VirtualBox Manager$"] 5
for_window [class="^VirtualBox Manager$"] floating enable focus

assign [class="^VirtualBox Machine$"] 5
for_window [class="^VirtualBox Machine$"] floating enable focus

# games
assign [class="^(?i)steam$"] 6
for_window [class="^(?i)steam$"] floating enable focus

assign [class="^(?i)lutris$"] 6
for_window [class="^(?i)lutris$"] floating enable focus

assign [class="^(?i)paradox launcher$"] 6
for_window [class="^(?i)paradox launcher$"] floating enable focus

assign [class="^(?i)stellaris$"] 6
for_window [class="^(?i)stelaris$"] fullscreen enable focus

# reading
assign [class="^Zathura$"] 7
for_window [class="^Zathura$"] focus

assign [class="^(?i)chromium$"] 7
for_window [class="^(?i)chromium$"] focus

assign [class="^(?i)libreoffice-*|Soffice"] 7
for_window [class="^(?i)libreoffice-*|Soffice"] focus

# playback
assign [class="mpv"] 8
for_window [class="mpv"] floating enable focus

# coffee
assign [class="^(?i)discord$"] 9
for_window [class="^(?i)discord$"] floating enable focus

# configuration
assign [class="^Pavucontrol$"] 0
for_window [class="^Pavucontrol$"] floating enable focus

assign [class="^Blueman$"] 0
for_window [class="^Blueman$"] floating enable focus

assign [class="^Lxappearance$"] 0
for_window [class="^Lxappearance$"] floating enable focus

assign [class="^qt5ct$"] 0
for_window [class="^qt5ct$"] floating enable focus

assign [class="^wifimenu$"] 0
for_window [title="^wifimenu$"] floating enable focus

assign [class="^btctl$"] 0
for_window [title="^btctl$"] floating enable focus

# extra
assign [class="mpnotd"] 1
for_window [class="mpnotd"] floating enable
no_focus [class="mpnotd"]

##
## auto start
##

# Start polybar
exec_always --no-startup-id $PBSCRIPTS/load-bar.sh

# Random lock screen
exec_always --no-startup-id multilockscreen -u $HOME/Wallpapers/Shuffle/Lockscreen

# Wallpaper Shuffler
exec_always --no-startup-id walsh

# mpnotd
exec_always --no-startup-id mpnotd

# vim: set ft=i3config
